<!-- 
/*
 * This program and the accompanying materials are made available under the terms of the
 * Eclipse Public License v2.0 which accompanies this distribution, and is available at
 * https://www.eclipse.org/legal/epl-v20.html
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 * Copyright Contributors to the Zowe Project.
 *
 */
 -->
 
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel='stylesheet' href="/stylesheets/nav.css" />
    <link rel="stylesheet" href="/stylesheets/communityStyle.css" />

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>Community</title>
</head>

<body>
    <% include ./partials/navBar %>
        <main>

            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="slack-tab" data-toggle="tab" href="#slack" role="tab"
                        aria-controls="slack" aria-selected="true">Slack</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="github-tab" data-toggle="tab" href="#github" role="tab"
                        aria-controls="github" aria-selected="false">Github</a>
                </li>
            </ul>

            <div class="tab-content">
                <div class="tab-pane fade show active" id="slack" role="tabpanel" aria-labelledby="slack-tab">
                    <section id="slack">
                        <h3 class="sectionTitle">Slack Metrics</h3>
                        <div class="tableContainer">
                            <p class="desc">Table showing Slack data monthly for the past 7 months, as well as today's
                                figures.</p>
                            <table>
                                <tr id="slackTH"></tr>
                                <tr id="slackTDChannels"></tr>
                                <tr id="slackTDParticipants"></tr>
                                <tr id="slackTDMessages"></tr>
                                <tr id="slackTDReplies"></tr>
                            </table>
                        </div>

                        <div class="bottomGraphRow">
                            <p class="desc">Monthly Channel and Participant data from Slack.</p>
                            <div class="barGraph">
                                <canvas id="slackGraph1" width="100" height="35"></canvas>
                            </div>
                        </div>

                        <div class="bottomGraphRow">
                            <p class="desc">Monthly Messages and Replies data from Slack.</p>
                            <div class="barGraph">
                                <canvas id="slackGraph2" width="100" height="35"></canvas>
                            </div>
                        </div>

                    </section>
                </div>
                <div class="tab-pane fade" id="github" role="tabpanel" aria-labelledby="github-tab">
                    <section id="git">
                        <h3 class="sectionTitle">Github Metrics</h3>
                        <div class="tableContainer">
                            <p class="desc">Table showing Slack data monthly for the past 7 months, as well as today's
                                figures.</p>
                            <table>
                                <tr id="githubTH"></tr>
                                <tr id="githubTDPRs"></tr>
                                <tr id="githubTDIssues"></tr>
                                <tr id="githubTDRepos"></tr>
                                <tr id="githubTDSubmitters"></tr>
                            </table>
                        </div>

                        <div class="bottomGraphRow">
                            <p class="desc">Monthly Pull Request and Issue data from Github.</p>
                            <div class="barGraph">
                                <canvas id="githubGraph1" width="100" height="35"></canvas>
                            </div>
                        </div>

                        <div class="bottomGraphRow">
                            <p class="desc">Monthly Repository and Submitter data from Slack.</p>
                            <div class="barGraph">
                                <canvas id="githubGraph2" width="100" height="35"></canvas>
                            </div>
                        </div>

                    </section>
                </div>
            </div>
        </main>
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
        <script src="/javascripts/community.js"></script>
        <script>
            let slackData = JSON.parse('<%- JSON.stringify(slack) %>');
            let gitData = JSON.parse('<%- JSON.stringify(git) %>');

            displayGit(gitData);
            displaySlack(slackData);
        </script>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
</body>

</html>